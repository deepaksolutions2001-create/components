<script src="https://cdn.tailwindcss.com"></script>

<section class="w-full bg-[#794acf] py-20 flex flex-col items-center justify-center relative overflow-x-hidden">
 <!-- Quote -->
 <div id="carouselQuote" class="w-full flex justify-center items-center mb-20 min-h-[65px] relative">
  <!-- quote text via JS -->
 </div>
 <!-- Avatars + names -->
 <div id="carouselAvatars" class="flex justify-center gap-16 items-end"></div>
 <style>
  .review-fadein {
   animation: fadein .6s both cubic-bezier(.44, 1.45, .59, 1);
  }

  @keyframes fadein {
   from {
    opacity: 0;
    transform: translateY(40px);
   }

   to {
    opacity: 1;
    transform: none;
   }
  }

  .review-avatar {
   opacity: .45;
   transform: scale(.93);
   transition: all .45s cubic-bezier(.44, 1.45, .59, 1);
   filter: grayscale(1);
  }

  .review-avatar.active {
   opacity: 1;
   transform: scale(1.13);
   filter: grayscale(0) drop-shadow(0 4px 20px #654aea22);
   z-index: 2;
  }

  .review-name,
  .review-role {
   transition: all .3s;
  }

  .review-name.active {
   color: #fff;
   font-weight: 800
  }

  .review-role.active {
   color: #ffe0ac;
   font-weight: 600
  }

  .review-name {
   color: #c5c1ec;
   font-weight: 700
  }

  .review-role {
   color: #c5c1ec;
   font-weight: 500
  }

  .speech-bubble {
   position: absolute;
   left: 50%;
   transform: translateX(-50%);
   top: -20px;
   z-index: 1;
   width: 180px;
   pointer-events: none;
  }
 </style>
 <script>
  const reviews = [{
   quote: `We work systematically to integrated corporate responsibility in our corein business and we make our expertise available for the benefit.`,
   name: "Ronald S",
   role: "CEO, Franklin Agency",
   img: "https://randomuser.me/api/portraits/men/32.jpg"
  },
  {
   quote: `The best partnership to solve our digital marketing needs at scale!`,
   name: "Rudy S",
   role: "CEO, Franklin Agency",
   img: "https://randomuser.me/api/portraits/women/56.jpg"
  },
  {
   quote: `Seamless from start to finish. Rapid teamwork and stellar financial clarity.`,
   name: "David J",
   role: "Finance Head",
   img: "https://randomuser.me/api/portraits/men/41.jpg"
  }
  ];
  let cur = 0;

  function renderReview() {
   // Quote at top, white, center
   carouselQuote.innerHTML = `
        <div class="w-full text-center max-w-5xl mx-auto px-3 review-fadein relative">
          <span class="align-super text-3xl text-[#fff7] font-sans">&#8220;</span>
          <span class="inline-block text-white text-lg md:text-2xl font-bold leading-relaxed">
            ${reviews[cur].quote}
          </span>
          <span class="align-sub text-3xl text-[#fff7] font-sans">&#8221;</span>
        </div>
      `;
   // Avatars row
   let html = '';
   reviews.forEach((r, i) => {
    html += `
        <div onclick="selectReview(${i})"
          class="flex flex-col items-center z-10 cursor-pointer select-none transition-all duration-500 relative
          review-avatar ${i === cur ? 'active' : ''}">
            <img src="${r.img}" alt="${r.name}" class="rounded-full w-20 h-20 object-cover border-4 border-[#fff] shadow-md ${i === cur ? 'ring-4 ring-white' : ''}" />
            <span class="mt-3 review-name ${i === cur ? 'active' : ''}">${r.name}</span>
            <span class="review-role text-sm ${i === cur ? 'active' : ''}">${r.role}</span>
            <!-- Speech bubble under center -->
            ${i === cur ? `
              <svg class="speech-bubble" height="24" width="180">
                <line x1="40" y1="10" x2="140" y2="10" stroke="#fff" stroke-width="2.1"/>
                <polyline points="80,10 90,24 100,10" fill="none" stroke="#fff" stroke-width="2.1"/>
              </svg>
            `: ''}
        </div>
        `;
   });
   carouselAvatars.innerHTML = html;
  }

  function selectReview(i) {
   cur = i;
   renderReview();
   resetInterval();
  }
  let interval;

  function nextReview() {
   cur = (cur + 1) % reviews.length;
   renderReview();
  }

  function resetInterval() {
   clearInterval(interval);
   interval = setInterval(nextReview, 4200);
  }
  renderReview();
  resetInterval();
  window.selectReview = selectReview;
 </script>
</section>